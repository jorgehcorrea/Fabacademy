<!DOCTYPE HTML>
<!--
	Editorial by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Fabacademy 15ht -Thing 1- JHC</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<div id="main">
						<div class="inner">

							<!-- Header -->
								<header id="header">
									<a href="index.html" class="logo"><strong>Fabacademy</strong></a>
									<ul class="icons">
										<li><a href="https://www.behance.net/jorgehernancorrea" class="icon fa-behance"><span class="label">Behance</span></a></li>
										<li><a href="https://www.linkedin.com/in/jorge-correa-92697645/" class="icon fa-linkedin"><span class="label">Facebook</span></a></li>
										<li><a href="https://www.instagram.com/mr.j_snap/" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
									</ul>
								</header>

							<!-- Content -->
					<section>
									<header class="main">
										<h1>Input Devices</h1>
									</header>
									
									<h4>Assignment List</h4>
											<div class="col-12">
													
														<ul>
															<li><strong>Group Assignment	&#9744;</strong></li> <!--&#9745; when done -->
															
																<ul>
																	<li>Measure the analog levels and digital signals in an input device &#9744;</li>
																	
																</ul>
																
															<li><strong>Individual Assignment	&#9744;</strong></li>
																<ul>
																	<li>Measure something: add a sensor to a microcontroller board that you have designed and read it. &#9744;</li>
																	
																</ul>
															
																
															<li><strong>To Conclude & Reflect</strong></li>
															
														</ul>
														
											</div>
							<hr class="major" />
								<h3>Group Assignment</h3>
						<div class="row">
							 
							
							<div class="col-12 col-12-medium">
									<p>For the Digital signals, I was hopping to measure the capacitance of something. As I was looking for deeper dive on to the capacitance knowledge.</p>
									<p>A quick internet search told me to measure capacitance with the<a href="https://www.google.com/search?client=firefox-b-d&q=measuring+capacitance#kpvalbx=1"> "capacitance" </a> option on the multimeter. Turns out this setting is not as common as I first envisioned. </p>
									<p>Or at least my multimeeter did not have it. </p>
									<p>Because caacitance is "the ability of a system to store an electric charge" a normal multimeter will not read how much a capacitor will actually take in charge. There is however a way.</p>
									<p> When the miltimenter is set to contact setting, it will send out charge. When connected to the capacitor the charge will be absorbed by the system.  </p>
									<p>Depending on the size of the capacitor, it will take different amount to charge it. </p>
							</div>
							
						<div class="col-12">
								<video width="100%" height="100%" controls>
								  <source src="images/w11-input/w11-capacitance-1.mp4" type="video/mp4">
								 
								Your browser does not support the video tag.
							</video> 
						</div>
						
						<div class="col-12">
								<video width="100%" height="100%" controls>
								  <source src="images/w11-input/w11-capacitance-2.mp4" type="video/mp4">
								 
								Your browser does not support the video tag.
							</video> 
						</div>
						
						<div class="col-12">
								<video width="100%" height="100%" controls>
								  <source src="images/w11-input/w11-capacitance-3.mp4" type="video/mp4">
								 
								Your browser does not support the video tag.
							</video> 
						</div>
						<div class="col-12 col-12-medium">
									<p>What I show is <stong>1000 uf  to 47 uf</strong> capacitors. And It is clearly shown how it takes longer for the multimeter to get from no current (1), to full contact (0) and back to no current (1). The lapse between 1 and 1 is where the capacitor's system is gaining charge. The 1000 uf takes a couple of seconds. The 47 uf is almost not registered by the multimeter. </p>
									<p>Given, my multimeter is basic, due to me being out of the fabacademy at the time.</p>
									<p>Based on how much time elapsed, it is possible to determine the capacitance value of the system without reading it from the component. In the given equation: <strong>t = R * C</strong>, <ul><li>t = time constant</li><li>R = resistante in ohms (presumably to limit the rate at witch energy flows in)</li><li>C = capacitance in farads</li></ul> </p>
									<p>The general theory beind all this I read from <a href="https://www.electronics-tutorials.ws/rc/rc_1.html">here.</a> An electronics-tutorial.  </p>
									<p>Im finding it very tough to actually measure acurately the time from when it starts to when it stops charging. And currently the 1000 uf capacitor is the biggest one I have at my disposal. It was an intresting experiment no the less. </p>
									<ul>
									<li>1000 uf / 5 ohm  = 200 time units </li>
									<li>some actual engeneer took it and left me without the real value. <br> but if I had to guess: 524.5 uf / 5 ohm =  104.9 time units </li>
									<li>49 uf / 5 = 9.8 time units</li>
									</ul>
							</div>
						
					</div>
						<hr class="major" />
							<h3>Individual Assignment</h3>
							<div class="row">
							 
							<!--	<div class="col-6 col-12-medium">
									<span class="image main"><img src="images/pic11.jpg" alt="" /></span>
								</div>	 -->
								<div class="col-12 col-12-medium">
									<p>In the individual assignment I got into undersdtanding the capacitive difference sensor theory. </p>
									<p><strong>The theory:</strong></p>
									<p>The idea is that current flows, through every coductive surface and that by doing so create a very week electromagnetic wave. </p>
									<p>We as humans, are as well creating the most tinny electromagnetic wave around us. </p>
									<p>With this, whenever a human limb gets closer to an electro-magnetically charged surface it disrupts the status quo of its magnetic field with its own. </p>
									<p>In the following circuit we detect this aditional pulse over the pulse already created with the current filling the charge objects. </p>
									<p>The earlier in short is my interpretation of how a capacitive sensor works in theory. </p>
									<p><strong>The practice:</strong></p>
									<p>I followed a tutorial and actually created a very simple circuit using and arduino, to prove the theory behind the touch sesonr. See the video below. </p>
									<p>
									I used the following equipment:
									<ul>
									<li>1x Aluminum foil</li>
									<li>1x 1M ohm resistor</li>
									<li>1x Arduino uno</li>
									<li>1x Connection cable</li>
									<li>1x LED Light</li>
									
									</ul>
									</p>
								</div>
								<br>
								<div class="col-12">
									
									<div class="col-8 col-12-medium">
									<span class="image main"><img src="https://hackster.imgix.net/uploads/attachments/412507/circuit_o4dxHY1EF3.jpg?auto=compress%2Cformat&w=740&h=555&fit=max" alt="" /></span>
									<h6>Image and code from hackerster, by amal mathew</h6>
									</div>
									
									
									
									
									
<pre>
	<code>
#include <CapacitiveSensor.h>

CapacitiveSensor   cs_2_4 = CapacitiveSensor(2,4); // 1M resistor between pins 2 & 4, pin 4 is sensor pin, add a wire and or foil

int in = 2; 
int out = 4;  
int state = HIGH;  
int r;           
int p = LOW;    
long time = 0;       
long debounce = 200;
void setup()
{
  pinMode(4, INPUT);
  pinMode(8, OUTPUT);
}
void loop()                    
{
 
  r = digitalRead(4);
  if (r == HIGH && p == LOW && millis() - time > debounce) {
    if (state == HIGH)
      state = LOW;
    else 
      state = HIGH;
    time = millis();    
  }
  digitalWrite(8, state);
  p = r;
}
	</code>
</pre>
									
								</div>
								<p>Installing the actual library was an unexpected troubleshooting I had to do. I ended downloading it from : <a href="https://playground.arduino.cc/Main/CapacitiveSensor/">here, the arduino playground</a></p>
								
						
						<div class="col-12">
								<video width="100%" height="100%" controls>
								  <source src="images/w11-input/capasitive touch.mp4" type="video/mp4">
								 
								Your browser does not support the video tag.
							</video> 
						</div>
							
							<p>Find the source Tutorial 
							<a href="https://www.hackster.io/amalmathewtech/touch-controlled-light-using-arduino-d2f878">by Amal Mathew showing: Touch Controlled Light Using Arduino
							</a>
							</p>
							
							<p>In this subject, knowing your resistors was key and as a result I found 2 helpfull calculators. 
							<ul>
							<li><a href="https://www.allaboutcircuits.com/tools/resistor-color-code-calculator/">Oldschool Resistors</a></li>
							<li><a href="https://www.hobby-hour.com/electronics/smdcalc.php">SMD Resistors</a></li>
							</ul></p>
							
							<p>In the end, I know I'll fully grasp the resistors by memory, but before that is nice to have I think less to look up or debug. </p>
							</div>
							
							<p>I later on go to expand this principle of capacitance, and measure a couple of more things.</p>
							<p>Initially to make sure it works, I end up to the point of connecting a flattend lasanga aluminum platter, with a 10k resistor directly to some of my Mutant Fisn PCB, done Electronic Design, and actually start getting a digital signal as so:</p>
								<div class="col-12">
								<video width="100%" height="100%" controls>
								  <source src="images/w11-input/touch-2.mp4" type="video/mp4">
								  <source src="images/w11-input/touch-2.ogg" type="video/ogg">
								 
								Your browser does not support the video tag.
							</video>
							</div>
							<p>After this, I do keep on measuring.. as a result of a certain upcomming final project to be finalized.</p>
							<p>In this case I use a capacitive.sensing library that is fairly common and been loyal to me, and in it I tweek a couple of parameters i detail later on in the Project Development week. I did want to share :</p>
							<p>One of the closer measurement in the capacitive sensing that lead to the chair having proper sensibilites. The following shows the capcity with 1 hand, 2 hands, sat down and proximity, when somebody walks arround the chair creating that noise. </p>
							<div class="col-8 col-12-medium">
									<span class="image main"><img src="images/w11-input/capacitive sensor.png" alt="" /></span>
							</div>
							<p>The actual wire/ resistor connection that follow up unto the bluetoth module pcb, actually also pick up capacitance, letting the sensibility have 2 points of interaction and being much more acurate in its measures. </p>
						
				
						<div class="col-12">
						<span>
						<img src="https://playground.arduino.cc/uploads/Main/CapSense/index.gif">
						</span>
						</div>
				<div class="row">
				<div class="col-6">
						<span class="image main">		<img src="images/w11-input/setup (2).JPG" alt="."/>
						</span>
				</div>
					<div class="col-6">
						<span class="image main">	
						<img src="images/w11-input/set2.JPG" alt=".">
						</span>
				</div>	
				</div>
				<h3>The input pcb</h3>
				<p>In this case I was planning to use this pcb to send data into the other end, throught the bluetooth module</p>
				<P>Not certain what Input I was actually going to use I initially thought to use a button. Latter discredited because I was actually interrupting the isp input. I added the VCC / GND as seperate pins in order to later actually use the isp pins as something else. </P>
				<p>Reading up on the new bluetooth component</p>
				<div class="row">
				<div class="col-6">
					<span class="image main">
						<img src="images/w11-input/a (1).jpg">
					</span>
				</div>
				<div class="col-6">
					<span class="image main">
						<img src="images/w11-input/a (2).jpg">
					</span>
				</div>
				</div>
				<p>drawing the schematic, and later found out the auto-path tool. Fun to play arroudn with, and when it works but its only good for small simple boards.</p>
				<div class="row">
				<div class="col-6">
					<span class="image main">
						<img src="images/w11-input/input schematics.png">
					</span>
				</div>
				<div class="col-6">
					<span class="image main">
						<img src="images/w11-input/Screenshot (115).jpg">
					</span>
				</div>
				</div>
				<p>I finalized my design as so:</p>
				<div class="row">
				<div class="col-6">
					<span class="image main">
						<img src="images/w11-input/Screenshot (117).jpg">
					</span>
				</div>
				<div class="col-6">
					<span class="image main">
						<img src="images/w11-input/Screenshot (118).jpg">
					</span>
				</div>
				</div>
				<ul class="actions fit">
									<li><a href="images/w11-input/input-files.rar" class="button primary fit" download>The input pcb files </a></li>
								</ul>
				<p>I had a terrible missalignment, when exporting the png, as the selected area was much larger and I attemped to manually cohencide the boards later. It didnt work. I manages to test ti before in the <a href="https://ncviewer.com/">NC-Viewer online</a> fortunatly. You just drop your code in.</p>
				<p>I was combining my cutting code and paths to see if they cohencide. On the right I later figured out you move the artboard limits manually, so I did that.</p>
				<div class="row">
				<div class="col-6">
					<span class="image main">
						<img src="images/w11-input/Screenshot (119).png">
					</span>
				</div>
				<div class="col-6">
					<span class="image main">
						<img src="images/w11-input/Screenshot (120).png">
					</span>
				</div>
				</div>
				<p>So I created this: </p>
				<div class="row">
				<div class="col-6">
					<span class="image main">
						<img src="images/w11-input/board (2).JPG">
					</span>
				</div>
				<div class="col-6">
					<span class="image main">
						<img src="images/w11-input/board (3).JPG">
					</span>
				</div>
				</div>
				<p>This is what happens when you wait for after the debugging. A filthy board happens. </p>
				
		
						<p>In this case I also used the arduino library we talked about earlier, but directly from the examples. </p>
						<p>Also using a 1k resistance, that is why we see nex to: long total1 = cs_4_2.capcaitiveSensonr(<strong>500</strong>).</p>
						<p>I belive the original recomendation the examples gives is a value of 30. In the end a 10 k resitance and that made all the difference. </p>
		                <p>This PCB actually did work for a bit. I unfortunately did not get a video, and later on the fab actually took most of its components in order to create neil's capacitive sensor pcb, and the bluetooth for the rn4871 as part of the debugging process.  </p>
						<pre><code>
#include <CapacitiveSensor.h>
#include <SoftwareSerial.h>
SoftwareSerial ftdi(1, 6); // RX-1(pb0) | TX-1 (pb1)
/*
 * CapitiveSense Library Demo Sketch
 * Paul Badger 2008
 * Uses a high value resistor e.g. 10M between send pin and receive pin
 * Resistor effects sensitivity, experiment with values, 50K - 50M. Larger resistor values yield larger sensor values.
 * Receive pin is the sensor pin - try different amounts of foil/metal on this pin
 */

//2= capacitive connection
CapacitiveSensor   cs_4_2 = CapacitiveSensor(9,10);        // 10M resistor between pins 4 & 2, pin 2 is sensor pin, add a wire and or foil if desired
//CapacitiveSensor   cs_4_6 = CapacitiveSensor(4,6);        // 10M resistor between pins 4 & 6, pin 6 is sensor pin, add a wire and or foil
//CapacitiveSensor   cs_4_8 = CapacitiveSensor(4,8);        // 10M resistor between pins 4 & 8, pin 8 is sensor pin, add a wire and or foil

void setup()                    
{
   cs_4_2.set_CS_AutocaL_Millis(0xFFFFFFFF);     // turn off autocalibrate on channel 1 - just as an example
   ftdi.begin(9600);
}

void loop()                    
{
   // long start = millis();
    long total1 =  cs_4_2.capacitiveSensor(500);
  //  long total2 =  cs_4_6.capacitiveSensor(30);
    //long total3 =  cs_4_8.capacitiveSensor(30);

  //  ftdi.print(millis() - start);        // check on performance in milliseconds
    //ftdi.print("\t");                    // tab character for debug windown spacing
    /*if(total1 > 200){
        ftdi.println('1');
      } 
     else{ftdi.println('0');
     }*/

    ftdi.println(total1);                  // print sensor output 1
    //ftdi.print("\t");
    //ftdi.print(total2);                  // print sensor output 2
    //ftdi.print("\t");
    //ftdi.println(total3);                // print sensor output 3

    delay(100);                             // arbitrary delay to limit data to ftdi port 
}
						
						</code></pre>
							<h3>How the datasheet helped you</h3>
							<p>in this case I actually was short of a couple of pins for the integration of this "mutant fish pcb" into the actual system of the chair. because the bluetooth connected to the ftdi side of the pcb, took up all the rx and tx pins I was forced to establish serial ports and replace the mosi and miso pins into being used as input pins. </p>
							<p>In order to do this I used the datasheet in order to pinpoint what the miso and mosi pins (PA3)(PA4)  and define them into becoming new tx and rx pins in order to recive and send data. </p>
					<h3>Measureing the Analog Signal</h3>
					<p>In order to measure the analog signal I used the Osciloscope, and after watching some tutroials on the matter, attemped to try out a bunch of arduino Example codes. Including the blink, and step motor controller. </p>
					<p>The most demostrative was a fade code for an led. Because It shows the wave cycle wider and narow as well as as the voltage change acording to the led turning brighter or dimmer. </p>
					<div class="col-12">
								<video width="100%" height="100%" controls>
								  <source src="images/w11-input/input-files.mp4" type="video/mp4">
								  <source src="images/w11-input/analog_input.mp4" type="video/ogg">
								    <source src="images/w11-input/analog_input.ogg" type="video/ogg">
								 
								Your browser does not support the video tag.
							</video>
							</div>
						<p>the actual code can be found:  <a herf="http://www.arduino.cc/en/Tutorial/Fade">HERE</a> </p>
						<hr class="major" />
								<h3>To Conclude</h3>
							<div class="col-12 col-12-medium">
									<p>This week was a nice advance for my final project, as it determined what type of relay I need. At the same time it was a productive time to soak in about capacitive theory. It is certainly the most apropiate input for the final project and one of the most intresting in my eyes as well (a nice combo).</p>
									<p>It also gave me a deeper understanding of the capacitance units farad, and a deeper dive into that whole new concept. </p>
									<p>I regret not starting off with my pcb board "mutant fish" for this project as it is something ill eventually do. </p>
							</div>	
								
								
								
					</section>

						</div>
					</div>

<!-- Sidebar -->
					<div id="sidebar">
						<div class="inner">
							<!-- Menu -->
								<nav id="menu">
									<header class="major">
										<h2>Menu</h2>
									</header>
									<ul>
										<li><a href="index.html">Homepage</a></li>
										<li><a href="final-projects.html">Final Project</a></li>
										<li>
											<span class="opener">Assignments</span>
											<ul>
												<li><a href="assignment-1.html">Principles and practices</a></li>
												<li><a href="assignment-2.html">Project management</a></li>
												<li><a href="assignment-3.html">Computer-aided design</a></li>
												<li><a href="assignment-4.html">Computer-controlled cutting</a></li>
												<li><a href="assignment-5.html">Electronics production</a></li> 
												<li><a href="assignment-6.html">3D scanning and Priting</a></li> 
												<li><a href="assignment-7.html">Electronic Design</a></li> 
												<li><a href="assignment-8.html">Computer-Controlled Machining</a></li> 
												<li><a href="assignment-9.html">Embedded Programming</a></li> 
												<li><a href="assignment-10.html">Moulding and Casting</a></li>
												<li><a href="assignment-11.html">Input Device</a></li>
												<li><a href="assignment-12.html">Output Device</a></li>
												<li><a href="assignment-13.html">Applications and Implications</a></li>
												<li><a href="assignment-14.html">Embedded Networking and Communication</a></li>
												<li><a href="assignment-15.html">Mechanical Design, Machine Design</a></li>
												<li><a href="assignment-16.html">Interface application Programming</a></li>
												<li><a href="assignment-17.html">Wildcard Week</a></li>
												<li><a href="assignment-18.html">Invention, Intellectual Property and business models</a></li>
												<li><a href="assignment-19.html">Project development</a></li>
												<li><a href="final-projects.html"> Final Project Requirements</a></li>		
											</ul>
										</li>
									</ul>
								</nav>
						</div>
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>